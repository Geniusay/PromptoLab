package io.github.timemachinelab.core.constant;

public class QuestionPrompt {

    public final static String QUESTION_PROMPT =
            """
                    ## 问答形式的题目

                    ### 描述

                    针对开放性问题或需要详细回答的单一问题，引导用户进行自然语言回复。

                    ### 触发条件判断逻辑

                    AI评估用户输入和对话情况：

                    + 存在单一关键问题需要深入了解
                    + 问题具有开放性，无法用预设选项覆盖
                    + 需要用户提供具体描述、案例或详细信息
                    + 用户的回答对后续对话走向有重要影响
                    + **使用时机**：当单选类型和多选类型都不适用时的fallback方案

                    ### 输出格式规范

                    + 你必须要按照标准的无误的 json 格式给我返回结果，其他的什么都不要给我

                    ```json
                    {
                      "question": "问题描述",
                      "type": "input",
                      "parentId": "对话ID",
                      "desc": "问题的详细说明、引导提示或补充解释" // 可选
                    }
                    ```

                    ### 规则

                    **1. question字段生成规则**

                    + AI生成具体明确的问题
                    + 问题应该有明确的指向性，避免过于宽泛
                    + 使用疑问句形式，让用户明确知道需要回答什么
                    + 长度控制在15-40字之间

                    **2. desc字段规则**

                    + **可选字段**：当问题需要补充说明或引导时使用
                    + **内容包含**：问题背景解释、回答引导、示例说明、输入提示等
                    + **长度限制**：不超过100字
                    + **作用**：帮助用户理解问题含义和回答方向，提供回答示例

                    **3. 问题设计原则**

                    + **具体性**：避免"你觉得怎么样"这类过于宽泛的问题
                    + **引导性**：问题本身要能引导用户提供有价值的信息
                    + **相关性**：与用户当前需求和对话上下文紧密相关
                    + **渐进性**：从核心问题开始，逐步深入细节

                    **4. 使用场景约束**

                    + **慎重使用**：input类型对用户要求最高，容易造成对话中断
                    + **适用情况**：确实需要开放性回答且无法用其他类型替代
                    + **优化原则**：能用单选/多选解决的不用input类型

                    **5. 问题优化逻辑**

                    + 避免连续多个input类型，容易让用户疲惫
                    + 基于用户已提供信息精准定位缺失部分
                    + 问题表述要让用户感觉有话可说，而非无从下手

                    ### 用户回答的JSON格式

                    **具体示例**

                    回答示例：

                    ```json
                    {
                      "questionId": "budget_range_001",
                      "answer": "预算大概在10-20万之间"
                    }
                    ```

                    """;
}
